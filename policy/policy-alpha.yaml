APIVersion: 1

label: apowine-policies

data:
  # NetworkAccessPolicy
  networkaccesspolicies:

  - name: apowine-access-policy-beer-client
    subject:
    - - "app=beer-getter"
    object:
    - - "role=backend"
    action: "Allow"

  - name: apowine-access-policy-wine-client
    subject:
    - - "app=wine-getter"
    object:
    - - "role=backend"
    action: "Reject"

  - name: apowine-access-policy-producers
    subject:
    - - "role=producer"
    object:
    - - "role=backend"
    action: "Allow"

  - name: apowine-access-policy-db
    subject:
    - - "role=backend"
    object:
    - - "role=database"
    action: "Allow"
